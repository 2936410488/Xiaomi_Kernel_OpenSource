/*
 * Copyright (c) 2017 MediaTek Inc.
 * Author: Keene Tsai <keene.tsai@mediatek.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/ {
	trusty {
		compatible = "android,trusty-smc-v1";
		ranges;
		#address-cells = <2>;
		#size-cells = <2>;
		tee_id = <0>;
		tee_name = "trusty";

		mtee {
			compatible = "mediatek,trusty-mtee-v1";
		};

		gz_main {
			compatible = "mediatek,trusty-gz";
		};

		trusty-irq {
			compatible = "android,trusty-irq-v1";
			ppi-interrupt-parent = <&gic>;
			tee_id = <0>;
		};

		trusty-virtio {
			compatible = "android,trusty-virtio-v1";
			tee_id = <0>;
		};

#ifndef CONFIG_MTK_NEBULA_VM_SUPPORT
		trusty-gz-log {
			compatible = "android,trusty-gz-log-v1";
			tee_id = <0>;
		};
#endif
	};

	nebula {
		compatible = "android,nebula-smc-v1";
		ranges;
		#address-cells = <2>;
		#size-cells = <2>;
		tee_id = <1>;
		/* FIXME: char device node name
		 * correct it when gz 3.3 is ready.
		 */
		tee_name = "trusty";

		nebula-virtio {
			compatible = "android,nebula-virtio-v1";
			tee_id = <1>;
		};

		nebula-irq {
			compatible = "android,nebula-irq-v1";
			ppi-interrupt-parent = <&gic>;
			tee_id = <1>;
		};

#ifdef CONFIG_MTK_NEBULA_VM_SUPPORT
		nebula-gz-log {
			compatible = "android,trusty-gz-log-v1";
			tee_id = <1>;
		};
#endif
	};
};
